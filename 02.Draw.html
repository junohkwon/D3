<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Selection</title>
</head>
<body>
  <script src="./lib/d3.v5.min.js"></script>

  <svg height="1000" width="1000">
  </svg>

  <script>

    let my_data=[1,2,3];

    temp = d3.selectAll('rect')
      .data(my_data)
      .enter()  //my_data에 연결된 Element를 가져온다
      .append('rect') //append 위치를 지정하지 않으므로 body 밖에 생성된다
          .attr('width',50)
          .attr('height',50)
          .attr('x',100)
          .attr('y',100);

    let svg = d3.select('svg'); //body내부의 svg를 가져온다

    svg.selectAll('rect') //svg 내부에 rect 3개를 추가한다.
        .data(my_data)
        .enter()
        .append('rect')
          .attr('width', function(d,i,nodes){
              console.log(nodes);
              return d*20;
           })
          .attr('height',function(d,i,nodes){
              return d*20;
           })
          .attr('x',function(d,i,nodes){
              return d*100;
           })
          .attr('y',function(d,i,nodes){
              return d*100;
           });

  </script>

</body>
</html>